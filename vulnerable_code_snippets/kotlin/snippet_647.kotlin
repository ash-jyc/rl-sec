import java.io.BufferedReader
import java.io.InputStreamReader
import java.net.URL

fun main(args: Array<String>) {
    val url = URL("http://example.com/")
    val connection = url.openConnection()
    val reader = BufferedReader(InputStreamReader(connection.getInputStream()))
    var inputLine: String?
    while (reader.readLine().also { inputLine = it } != null) {
        println(inputLine)
    }
    reader.close()
}